# Injective Pass 环境配置模板
# 复制此文件到 nfc-wallet-backend/.env 并填入真实值

# ===== 数据库配置 =====
DATABASE_URL="postgresql://injective_user:injective_pass@localhost:5432/injective_nfc_db"

# ===== Redis 配置 =====
REDIS_URL="redis://localhost:6379"
REDIS_PASSWORD="injective_redis_pass"

# ===== JWT 配置 =====
JWT_SECRET="your-super-secret-jwt-key-change-in-production-make-it-long-and-random"

# ===== AES 加密密钥 (必须32字符) =====
AES_SECRET_KEY="32-char-secret-key-change-this!!"

# ===== Injective 区块链配置 =====
# Injective EVM Testnet RPC
INJ_RPC_URL="https://k8s.testnet.json-rpc.injective.network/"

# 部署者私钥 (用于合约交互)
INJ_PRIVATE_KEY="your-private-key-here-without-0x-prefix"

# ===== 智能合约地址 =====
# NFC 钱包注册合约
NFC_REGISTRY_CONTRACT="0x1234567890123456789012345678901234567890"

# 域名 NFT 合约
DOMAIN_NFT_CONTRACT="0x1234567890123456789012345678901234567890"

# 猫咪 NFT 合约
CAT_NFT_CONTRACT="0x1234567890123456789012345678901234567890"

# ===== 应用配置 =====
NODE_ENV="development"
PORT="3000"

# API 配置
API_PREFIX="/api"
API_VERSION="v1"

# ===== CORS 配置 =====
CORS_ORIGIN="http://localhost:3000,http://localhost:8001"

# ===== 日志配置 =====
LOG_LEVEL="info"
LOG_FILE="logs/app.log"

# ===== 文件上传配置 =====
MAX_FILE_SIZE="10485760"  # 10MB

# ===== 限流配置 =====
RATE_LIMIT_TTL="60"       # 60秒
RATE_LIMIT_LIMIT="100"    # 100次请求

# ===== IPFS 配置 (可选) =====
IPFS_GATEWAY="https://ipfs.io/ipfs/"
PINATA_API_KEY="your-pinata-api-key"
PINATA_SECRET_KEY="your-pinata-secret-key"

# ===== 邮件配置 (可选) =====
SMTP_HOST="smtp.gmail.com"
SMTP_PORT="587"
SMTP_USER="your-email@gmail.com"
SMTP_PASS="your-app-password"

# ===== 监控配置 (可选) =====
SENTRY_DSN="your-sentry-dsn"
PROMETHEUS_PORT="9090"

# ===== 开发配置 =====
# 数据库同步 (development only)
DB_SYNCHRONIZE="true"
DB_LOGGING="true"

# Hot reload
WATCH_MODE="true"

# ===== 生产配置 =====
# SSL 配置
SSL_CERT_PATH="/path/to/cert.pem"
SSL_KEY_PATH="/path/to/key.pem"

# Session 配置
SESSION_SECRET="your-session-secret"
SESSION_MAX_AGE="86400000"  # 24小时

# ===== 安全配置 =====
# 信任代理
TRUST_PROXY="true"

# 安全头配置
HELMET_ENABLED="true"

# ===== 缓存配置 =====
CACHE_TTL="300"           # 5分钟
CACHE_MAX_ITEMS="1000"

# ===== 队列配置 =====
QUEUE_REDIS_URL="redis://localhost:6379"
QUEUE_CONCURRENCY="5"

# ===== 外部服务配置 =====
# CoinGecko API (用于价格查询)
COINGECKO_API_KEY="your-coingecko-api-key"

# NFT 元数据服务
NFT_METADATA_BASE_URL="https://your-metadata-service.com"

# ===== 备份配置 =====
BACKUP_ENABLED="true"
BACKUP_SCHEDULE="0 2 * * *"  # 每天凌晨2点
BACKUP_RETENTION_DAYS="30"

# ===== 示例填写说明 =====
# 1. 将此文件复制到 nfc-wallet-backend/.env
# 2. 替换所有 "your-xxx" 开头的值为真实配置
# 3. 确保私钥和密钥的安全性
# 4. 生产环境务必修改所有默认密码和密钥
# 5. AES_SECRET_KEY 必须是32字符长度
# 6. 智能合约地址需要部署后填入

# ===== 快速配置命令 =====
# 生成随机 JWT 密钥: openssl rand -base64 64
# 生成随机 AES 密钥: openssl rand -base64 32 | cut -c1-32
# 生成随机密码: openssl rand -base64 24
